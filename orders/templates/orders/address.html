{% extends 'base.html' %}

{% block breadcrumb %}
{% include 'orders/snippets/breadcrumb.html' %}
{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto space-y-6">
  {% if shipping_address %}
  <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mb-4">Recoge tu pedido en el punto de entrega</h2>

    <!-- Mostrar dirección actual -->
    <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4 mb-4">
      {% include 'shipping_addresses/snippets/shipping_address.html' with address=shipping_address %}
    </div>

    <!-- Botones -->
    <div class="flex flex-col md:flex-row gap-3">
      <a href="{% url 'orders:payment' %}"
        class="bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-full text-center transition">
        Entregar a esta dirección
      </a>

      {% if can_choose_address %}
      <a href="{% url 'orders:select_address' %}"
        class="bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 px-6 py-2 rounded-full text-center transition">
        Elegir otra dirección
      </a>
      {% endif %}
    </div>

  </div>
  {% else %}
  <div>
    <h2>Registra tu dirección de envio</h2>
    {% url 'orders:address' as next_url %}
    <a href="{% url 'shipping_addresses:create' %}?next={{ next_url }}">Nueva dirección de envío</a>
  </div>
  {% endif %}
</div>
{% endblock %}