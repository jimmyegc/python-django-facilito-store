{% load product_extras %}
<div
  class="bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-md space-y-4 transition-colors duration-300 border border-gray-100 dark:border-gray-700">

  <!-- Título -->
  <div class="text-lg font-semibold text-gray-700 dark:text-gray-200 transition-colors duration-300">
    Resumen de tu pedido
  </div>

  <!-- Productos -->
  <div class="divide-y divide-gray-200 dark:divide-gray-700 transition-colors duration-300">
    {% for cp in cart.products_related %}
    <div class="flex justify-between py-2">
      <span class="text-gray-600 dark:text-gray-300 transition-colors duration-300">
        {{ cp.product.title }} x{{ cp.quantity }}
      </span>
      <span class="font-medium text-gray-700 dark:text-gray-200 transition-colors duration-300">
        {{ cp.get_total_price | price_format }}
      </span>
    </div>
    {% endfor %}
  </div>

  <!-- Subtotal -->
  <div
    class="flex justify-between mt-4 border-t border-gray-200 dark:border-gray-700 pt-2 transition-colors duration-300">
    <span class="font-semibold text-gray-700 dark:text-gray-200 transition-colors duration-300">Subtotal:</span>
    <span class="font-semibold text-yellow-500 dark:text-yellow-400">{{ cart.subtotal | price_format }}</span>
  </div>
  <!-- Cargo adicional / Fee -->
  <div class="flex justify-between mt-2 transition-colors duration-300">
    <span class="text-gray-700 dark:text-gray-200">Cargo:</span>
    <span class="text-yellow-500 dark:text-yellow-400">{{ cart.fee | price_format }}</span>
  </div>

  <!-- Total -->
  <div
    class="flex justify-between mt-4 border-t border-gray-200 dark:border-gray-700 pt-2 transition-colors duration-300">
    <span class="font-bold text-gray-800 dark:text-gray-100">Total:</span>
    <span class="font-bold text-yellow-500 dark:text-yellow-400">{{ cart.total | price_format }}</span>
  </div>

  <!-- Botón continuar -->
  <a href="{{ next_url }}"
    class="btn-primary block mt-4 bg-yellow-500 hover:bg-yellow-600 dark:bg-yellow-500 dark:hover:bg-yellow-400 text-gray-900 dark:text-gray-900 font-semibold text-center py-2 rounded-full shadow-md transition duration-200 ease-in-out hover:scale-105">
    Continuar
  </a>
</div>