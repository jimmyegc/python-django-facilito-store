{% extends 'base.html' %}
{% load product_extras %}

{% block content %}

<!-- Product Detail -->

<div class="rounded-2xl shadow-lg overflow-hidden flex flex-col md:flex-row transition-colors duration-300"
  style="background-color: rgb(var(--color-bg-card)); border: 1px solid rgba(var(--color-border),0.3); color: rgb(var(--color-text));">

  <!-- Imagen del producto -->
  <div class="md:w-1/2 flex items-center justify-center p-6 transition-colors duration-300"
    style="background-color: rgb(var(--color-bg-card)); border-right: 1px solid rgba(var(--color-border),0.3);">
    {% if product.image %}
    <img src="{{ product.image.url }}" alt="{{ product.title }}"
      class="w-full max-w-sm rounded-xl object-cover shadow-md hover:scale-105 transform transition duration-300 ease-in-out">
    {% else %}
    <div class="w-full h-64 flex items-center justify-center italic rounded-xl"
      style="background-color: rgba(var(--color-border),0.1); color: rgb(var(--color-muted));">
      Sin imagen disponible
    </div>
    {% endif %}
  </div>

  <!-- Información del producto -->
  <div class="md:w-1/2 flex flex-col justify-between p-8">

    <!-- Título y precio -->
    <div>
      <h1 class="text-3xl font-semibold mb-3 tracking-tight" style="color: rgb(var(--color-text));">
        {{ product.title }}
      </h1>

      <div class="text-3xl font-bold mb-4" style="color: rgb(var(--color-primary));">
        {{ product.price|price_format }}
      </div>

      <!-- Stock -->
      <p class="text-sm font-medium mb-4"
        style="{% if product.stock %}color: rgb(var(--color-success));{% else %}color: rgb(var(--color-danger));{% endif %}">
        {% if product.stock %}
        Disponible
        {% else %}
        No disponible
        {% endif %}
      </p>

      <!-- Descripción -->
      <div class="leading-relaxed mb-6" style="color: rgb(var(--color-text-muted));">
        <h2 class="font-semibold mb-2" style="color: rgb(var(--color-text));">Descripción del producto:</h2>
        <p>{{ product.description }}</p>
      </div>
    </div>

    {% if product.stock %}
    <!-- Agregar al carrito -->
    <div class="pt-6 mt-4" style="border-top: 1px solid rgba(var(--color-border),0.3);">
      {% include 'carts/snippets/add.html' %}
    </div>
    {% endif %}
  </div>
</div>

{% endblock %}