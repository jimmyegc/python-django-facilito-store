{% extends 'base.html' %}

{% block breadcrumb %}
{% include 'orders/snippets/breadcrumb.html' %}
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto mt-8 px-4">
  <h2 class="text-2xl font-semibold text-gray-800 mb-6">
    Selecciona una dirección de envío
  </h2>

  {% if shipping_addresses %}
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {% for address in shipping_addresses %}
    <div class="relative bg-white border border-gray-200 rounded-2xl p-5 shadow-sm hover:shadow-md transition">
      {% if address.default %}
      <span class="absolute top-3 right-3 bg-indigo-600 text-white text-xs px-2 py-1 rounded-md">
        Predeterminada
      </span>
      {% endif %}

      <div class="space-y-1">
        <p class="text-gray-800 font-semibold">{{ address.address }}</p>
        {% if address.line2 %}
        <p class="text-gray-600">{{ address.line2 }}</p>
        {% endif %}
        <p class="text-gray-600">{{ address.city }}, {{ address.state }}</p>
        <p class="text-gray-600">{{ address.country }}</p>
        <p class="text-gray-600">C.P. {{ address.postal_code }}</p>
      </div>

      <div class="mt-4 flex items-center justify-between border-t border-gray-100 pt-3">
        <p class="text-xs text-gray-400">
          Agregada el {{ address.created_at|date:"d/m/Y" }}
        </p>
        <a href="{% url 'orders:check_address' address.pk %}"
          class="bg-indigo-600 text-white text-sm font-medium px-4 py-2 rounded-lg hover:bg-indigo-700 transition">
          Seleccionar
        </a>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="text-center py-12 bg-white rounded-xl shadow-sm border border-gray-100">
    <p class="text-gray-600 mb-4">Aún no tienes direcciones guardadas.</p>
    <a href="{% url 'shipping_addresses:create' %}"
      class="inline-flex items-center bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition">
      Nueva dirección
    </a>
  </div>
  {% endif %}
</div>
{% endblock %}