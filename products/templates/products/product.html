{% extends 'base.html' %}
{% load product_extras %}

{% block content %}

<div
  class="bg-white dark:bg-gray-900 rounded-2xl shadow-lg dark:shadow-gray-800 overflow-hidden flex flex-col md:flex-row border border-gray-100 dark:border-gray-700 transition-colors duration-300">

  <!-- Imagen del producto -->
  <div
    class="md:w-1/2 flex items-center justify-center bg-white dark:bg-gray-900 p-6 border-r border-gray-100 dark:border-gray-800">
    {% if product.image %}
    <img src="{{ product.image.url }}" alt="{{ product.title }}"
      class="w-full max-w-sm rounded-xl object-cover shadow-md hover:scale-105 transform transition duration-300 ease-in-out">
    {% else %}
    <div
      class="w-full h-64 flex items-center justify-center bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 italic rounded-xl">
      Sin imagen disponible
    </div>
    {% endif %}
  </div>

  <!-- Información del producto -->
  <div class="md:w-1/2 flex flex-col justify-between p-8">

    <!-- Título y precio -->
    <div>
      <h1 class="text-3xl font-semibold text-gray-900 dark:text-gray-100 mb-3 tracking-tight">
        {{ product.title }}
      </h1>

      <div class="text-3xl font-bold text-yellow-500 dark:text-yellow-400 mb-4">
        {{ product.price|price_format }}
      </div>

      <!-- Stock -->
      <p class="text-sm font-medium mb-4
          {% if product.stock %}
            text-green-600 dark:text-green-400
          {% else %}
            text-red-600 dark:text-red-400
          {% endif %}
        ">
        {% if product.stock %}
        Disponible
        {% else %}
        No disponible
        {% endif %}
      </p>

      <!-- Descripción -->
      <div class="text-gray-700 dark:text-gray-300 leading-relaxed mb-6">
        <h2 class="font-semibold text-gray-800 dark:text-gray-200 mb-2">Descripción del producto:</h2>
        <p>{{ product.description }}</p>
      </div>
    </div>

    {% if product.stock %}
    <!-- Agregar al carrito -->
    <div class="border-t border-gray-200 dark:border-gray-700 pt-6 mt-4">
      {% include 'carts/snippets/add.html' %}
    </div>
    {% endif %}
  </div>
</div>

{% endblock %}