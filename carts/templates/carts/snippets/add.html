<form action="{% url 'carts:add' %}" method="post" class="space-y-4">
  {% csrf_token %}
  <input type="hidden" name="product_id" value="{{ product.id }}">

  <!-- Selector de cantidad -->
  <div class="flex items-center gap-3 justify-start">
    <!-- BotÃ³n disminuir -->
    <button id="remove" type="button"
      class="w-10 h-10 flex items-center justify-center rounded-md shadow transition duration-200 ease-in-out focus:outline-none focus:ring-2"
      style="background-color: rgb(var(--color-bg-input)); color: rgb(var(--color-text));"
      onmouseover="this.style.backgroundColor='rgb(var(--color-bg-input-hover))'"
      onmouseout="this.style.backgroundColor='rgb(var(--color-bg-input))'">
      <span class="text-xl font-bold">âˆ’</span>
    </button>

    <!-- Input cantidad -->
    <input id="quantity" type="number" name="quantity" value="1" min="1" readonly
      class="w-16 text-center rounded-md py-2 font-medium outline-none focus:ring-2"
      style="background-color: rgb(var(--color-bg-input)); color: rgb(var(--color-text)); border: 1px solid rgba(var(--color-border),0.3); focus:border-color: rgb(var(--color-primary));">

    <!-- BotÃ³n aumentar -->
    <button id="add" type="button"
      class="w-10 h-10 flex items-center justify-center rounded-md shadow transition duration-200 ease-in-out focus:outline-none focus:ring-2"
      style="background-color: rgb(var(--color-bg-input)); color: rgb(var(--color-text));"
      onmouseover="this.style.backgroundColor='rgb(var(--color-bg-input-hover))'"
      onmouseout="this.style.backgroundColor='rgb(var(--color-bg-input))'">
      <span class="text-xl font-bold">+</span>
    </button>
  </div>

  <!-- BotÃ³n agregar al carrito -->
  <button type="submit"
    class="btn-primary w-full flex items-center justify-center gap-2 font-semibold py-3 rounded-lg shadow-md transition duration-200 ease-in-out hover:scale-105">
    ðŸ›’ Agregar al carrito
  </button>
</form>


<script>
  const add = document.getElementById('add')
  const remove = document.getElementById('remove')
  const quantity = document.getElementById('quantity')

  add.addEventListener('click', () => {
    quantity.value = parseInt(quantity.value) + 1
  })

  remove.addEventListener('click', () => {
    let value = parseInt(quantity.value)
    if (value > 1) {
      value -= 1
    }
    quantity.value = value
  })
</script>