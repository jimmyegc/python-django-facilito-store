{% extends 'base.html' %}

{% block breadcrumb %}
{% include 'orders/snippets/breadcrumb.html' %}
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 py-6">
  <h2 class="text-2xl font-semibold mb-6">Método de pago</h2>
  <div>
    {% include 'billing_profiles/snippets/billing_profile.html' %}
  </div>
  <div class="mt-6 flex justify-end">
    <a href="{% url 'orders:confirm' %}"
      class="bg-green-500 text-white px-6 py-3 rounded-full font-semibold hover:bg-green-600 transition">
      Confirmar pago
    </a>
  </div>

</div>
<!-- Here -->
<!-- <div class="max-w-4xl mx-auto px-4 py-6">
  <h2 class="text-2xl font-semibold mb-6 text-gray-800 dark:text-gray-100">Método de pago</h2>

  {% if billing_profiles %}
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    {% for profile in billing_profiles %}
    <div
      class="relative bg-white dark:bg-gray-800 rounded-2xl shadow-md hover:shadow-xl transition p-5 border border-gray-200 dark:border-gray-700">

      {% if profile.default %}
      <span class="absolute top-2 right-2 bg-indigo-600 text-white text-xs font-medium px-2 py-1 rounded-md">
        Predeterminada
      </span>
      {% endif %}

      <div class="space-y-2">
        <p class="text-gray-800 dark:text-gray-200 font-semibold">{{ profile.brand }} •••• {{ profile.last4 }}</p>
        <p class="text-sm text-gray-500 dark:text-gray-400">Expira: {{ profile.exp_month }}/{{ profile.exp_year }}</p>
      </div>

      <div class="mt-4 flex justify-end gap-2">
        <a href="{% url 'billing_profiles:select' profile.pk %}"
          class="inline-flex items-center gap-1 bg-orange-500 text-white text-sm font-medium px-4 py-2 rounded-lg hover:bg-orange-600 transition">
          Seleccionar
        </a>
        <a href="{% url 'billing_profiles:update' profile.pk %}"
          class="inline-flex items-center gap-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-sm font-medium px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition">
          Editar
        </a>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-2xl text-center">
    <p class="text-gray-700 dark:text-gray-300 mb-4">No tienes métodos de pago guardados.</p>
    <a href="{% url 'billing_profiles:create' %}"
      class="inline-block bg-orange-500 text-white px-6 py-2 rounded-full font-medium hover:bg-orange-600 transition">
      Agregar tarjeta
    </a>
  </div>
  {% endif %}

  <div class="mt-6 flex justify-end">
    <a href="{% url 'orders:confirm' %}"
      class="bg-green-500 text-white px-6 py-3 rounded-full font-semibold hover:bg-green-600 transition">
      Confirmar pago
    </a>
  </div>
</div> -->
{% endblock %}