<form action="{% url 'carts:add' %}" method="post" class="space-y-4">
  {% csrf_token %}
  <input type="hidden" name="product_id" value="{{ product.id }}">

  <!-- Selector de cantidad -->
  <div class="flex items-center gap-3 justify-start">
    <!-- BotÃ³n disminuir -->
    <button id="remove" type="button"
      class="w-10 h-10 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md shadow transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-yellow-400">
      <span class="text-xl font-bold">âˆ’</span>
    </button>

    <!-- Input cantidad -->
    <input id="quantity" type="number" name="quantity" value="1" min="1" readonly
      class="w-16 text-center border border-gray-300 rounded-md py-2 text-gray-900 font-medium focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 outline-none" />

    <!-- BotÃ³n aumentar -->
    <button id="add" type="button"
      class="w-10 h-10 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md shadow transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-yellow-400">
      <span class="text-xl font-bold">+</span>
    </button>
  </div>

  <!-- BotÃ³n agregar al carrito -->
  <button type="submit"
    class="w-full flex items-center justify-center gap-2 bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-semibold py-3 rounded-lg shadow-md transition duration-200 ease-in-out hover:scale-105">
    ðŸ›’ Agregar al carrito
  </button>
</form>

<script>
  const add = document.getElementById('add')
  const remove = document.getElementById('remove')
  const quantity = document.getElementById('quantity')

  add.addEventListener('click', () => {
    quantity.value = parseInt(quantity.value) + 1
  })

  remove.addEventListener('click', () => {
    let value = parseInt(quantity.value)
    if (value > 1) {
      value -= 1
    }
    quantity.value = value
  })
</script>